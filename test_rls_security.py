import requests
from datetime import datetime

SUPABASE_URL = "https://zeovlkmweekxcgepyicu.supabase.co/"
ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inplb3Zsa213ZWVreGNnZXB5aWN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4MDAwODMsImV4cCI6MjA3ODM3NjA4M30.Te-sUCV71KuX_xFonDjDX4mo_n4JH6DV0Xe5WNxItKo"
USER_JWT = "eyJhbGciOiJIUzI1NiIsImtpZCI6IlcvMm4xV0Foamh4U0QyMnciLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3plb3Zsa213ZWVreGNnZXB5aWN1LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI1ZGI2MDQzZS1kMjc5LTRkZDAtODNiOC0wNzNkNWUwYzZkYzIiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzY2ODkyMzQyLCJpYXQiOjE3NjY4ODg3NDIsImVtYWlsIjoianR3eEBwcm90b24ubWUiLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoianR3eEBwcm90b24ubWUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZnVsbF9uYW1lIjoianR3eEBwcm90b24ubWUiLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjVkYjYwNDNlLWQyNzktNGRkMC04M2I4LTA3M2Q1ZTBjNmRjMiJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzY2ODg4NzQyfV0sInNlc3Npb25faWQiOiI1OTkxMzhjMC00NjY5LTQ4NDUtYTJiYi04YmVhMTRlN2JjMDEiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ._HgzTzc9ZqeirXO-1-ReRgQe-oQA3r8U_vXflGvOIf4"
headers = {
    "apikey": ANON_KEY,
    "Authorization": f"Bearer {USER_JWT}",
    "Accept": "application/json"
}

user_id = "5db6043e-d279-4dd0-83b8-073d5e0c6dc2"

url = (
    f"{SUPABASE_URL}/rest/v1/profiles"
    f"?select=*"
    f"&id=eq.{user_id}"
)

response = requests.get(url, headers=headers)

print(response.status_code)
print(response.json())
